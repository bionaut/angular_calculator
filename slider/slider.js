(function(){var e,l,n,t,o,i,a,r,s,u,c,d,v,h,f,g,p;e="ui.slider",l="slider",n=function(e){return angular.element(e)},d=function(e){return""+e+"px"},r=function(e){return e.css({opacity:0})},f=function(e){return e.css({opacity:1})},u=function(e,l){return e.css({left:l})},a=function(e){return e[0].offsetWidth/2},c=function(e){return e[0].offsetLeft},p=function(e){return e[0].offsetWidth},i=function(e,l){return c(l)-c(e)-p(e)},t=function(e){return isNaN(e)?e:Math.min(Math.max(0,e),100)},h=function(e,l,n,t){var o,i,a,r;return null==t&&(t=0),null==n&&(n=1/Math.pow(10,l)),i=(e-t)%n,r=i>n/2?e+n-i:e-i,o=Math.pow(10,l),a=r*o/o,parseFloat(a.toFixed(l))},o={mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},touch:{start:"touchstart",move:"touchmove",end:"touchend"}},g=function(e){return{restrict:"E",scope:{floor:"@",ceiling:"@",values:"=?",step:"@",highlight:"@",precision:"@",buffer:"@",dragstop:"@",ngModel:"=?",ngModelLow:"=?",ngModelHigh:"=?"},template:'<div class="bar"><div class="selection"></div></div>\n<div class="handle low"></div><div class="handle high"></div>\n<div class="bubble limit low">{{ values.length ? values[floor || 0] : floor }}</div>\n<div class="bubble limit high">{{ values.length ? values[ceiling || values.length - 1] : ceiling }}</div>\n<div class="bubble value low">{{ values.length ? values[local.ngModelLow || local.ngModel || 0] : local.ngModelLow || local.ngModel || 0 }}</div>\n<div class="bubble value high">{{ values.length ? values[local.ngModelHigh] : local.ngModelHigh }}</div>',compile:function(l,i){var r,s,v,f;return v=null==i.ngModel&&null!=i.ngModelLow&&null!=i.ngModelHigh,s=v?"ngModelLow":"ngModel",r="ngModelHigh",f=["floor","ceiling","values",s],v&&f.push(r),{post:function(l,i,g){var m,b,M,w,C,F,L,x,y,H,I,E,X,N,W,k,z,B,D,P,R,T,j,q,A,G,J,K,O;if(K=function(){var e,l,t,o;for(t=i.children(),o=[],e=0,l=t.length;l>e;e++)F=t[e],o.push(n(F));return o}(),m=K[0],W=K[1],E=K[2],L=K[3],w=K[4],H=K[5],y=K[6],D=n(m.children()[0]),!v){for(O=[E,y],q=0,G=O.length;G>q;q++)R=O[q],R.remove();g.highlight||D.remove()}for(l.local={},l.local[s]=l[s],l.local[r]=l[r],M=!1,z=n(document),x=b=N=I=k=X=T=B=void 0,C=function(){var e,n,t,o;for(null==l.step&&(l.step=1),null==l.floor&&(l.floor=0),null==l.precision&&(l.precision=0),v||(l.ngModelLow=l.ngModel),(null!=(o=l.values)?o.length:void 0)&&null==l.ceiling&&(l.ceiling=l.values.length-1),l.local[s]=l[s],l.local[r]=l[r],n=0,t=f.length;t>n;n++)e=f[n],"number"==typeof e&&(l[e]=h(parseFloat(l[e]),parseInt(l.precision),parseFloat(l.step),parseFloat(l.floor)));return x=a(W),b=p(m),N=0,I=b-p(W),k=parseFloat(l.floor),X=parseFloat(l.ceiling),T=X-k,B=I-N},P=function(){var e,n,f,m,F,L;return C(),n=function(e){return t((e-N)/B*100)},f=function(e){return t((e-k)/T*100)},m=function(e){return d(e*B/100)},L=function(){var e,n;switch(u(w,d(b-p(w))),n=f(l.local[s]),u(W,m(n)),u(H,d(c(W)-a(H)+x)),u(D,d(c(W)+x)),!0){case v:return e=f(l.local[r]),u(E,m(e)),u(y,d(c(E)-a(y)+x)),D.css({width:m(e-n)});case"right"===g.highlight:return D.css({width:m(110-n)});case"left"===g.highlight:return D.css({width:m(n)}),u(D,0)}},e=function(e,t,o,a){var u,c,d,f;return u=o,c=function(){return t.removeClass("active"),e.removeClass("active"),z.unbind(a.move),z.unbind(a.end),l.dragstop&&(l[r]=l.local[r],l[s]=l.local[s]),u=o,l.$apply()},d=function(e){var t,o,a,c,d,f,g;if(t=e.clientX||(null!=(d=e.touches)?d[0].clientX:void 0)||(null!=(f=e.originalEvent)&&null!=(g=f.changedTouches)?g[0].clientX:void 0)||0,o=t-i[0].getBoundingClientRect().left-x,o=Math.max(Math.min(o,I),N),a=n(o),c=k+T*a/100,v)switch(u){case s:c>l.local[r]?(u=r,W.removeClass("active"),H.removeClass("active"),E.addClass("active"),y.addClass("active"),L()):l.buffer>0&&(c=Math.min(c,l.local[r]-l.buffer));break;case r:c<l.local[s]?(u=s,E.removeClass("active"),y.removeClass("active"),W.addClass("active"),H.addClass("active"),L()):l.buffer>0&&(c=Math.max(c,parseInt(l.local[s])+parseInt(l.buffer)))}return c=h(c,parseInt(l.precision),parseFloat(l.step),parseFloat(l.floor)),l.local[u]=c,l.dragstop||(l[u]=c),L(),l.$apply()},f=function(l){return C(),t.addClass("active"),e.addClass("active"),L(),l.stopPropagation(),l.preventDefault(),z.bind(a.move,d),z.bind(a.end,c)},e.bind(a.start,f)},F=function(){var l,n,t,i;for(i=["touch","mouse"],n=0,t=i.length;t>n;n++)l=i[n],e(W,H,s,o[l]),e(E,y,r,o[l]);return M=!0},M||F(),L()},e(P),A=0,J=f.length;J>A;A++)j=f[A],l.$watch(j,P,!0);return window.addEventListener("resize",P)}}}}},v=["$timeout",g],(s=function(n,t){return t.module(e,[]).directive(l,v)})(window,window.angular)}).call(this);